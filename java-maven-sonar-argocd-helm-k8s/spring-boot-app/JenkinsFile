pipeline {
    agent any

    stages {

        stage('Checkout') {
            steps {
                echo "passed"
            }
        }

        stage('Build and Test') {
            steps {
                sh '''
                cd java-maven-sonar-argocd-helm-k8s/spring-boot-app
                mvn -B -DskipTests=false clean package
                '''
            }
        }

        stage('Static Code Analysis') {
            steps {
                echo "Static Code Analysis"
            }
        }

        stage('Build and Push Docker Image') {
            steps {
                echo "Building Docker Image..."
            }
        }

        stage('Update Deployment File') {
            steps {
                echo "Updating deployment file..."
            }
        }

    }

    post {
        always {
            echo "Pipeline finished with status: FAILURE"
        }
    }
}
